{"version":3,"sources":["webpack:///../../../../../src/.internal/plugins/rangeSelector/RangeSelectorCSS.ts","webpack:///../../../../../src/.internal/plugins/rangeSelector/RangeSelector.ts","webpack:///../../../../../src/.internal/plugins/rangeSelector/DateAxisRangeSelector.ts","webpack:///./plugins/rangeSelector.js"],"names":["rules","RangeSelector_RangeSelector","_super","RangeSelector","_this","call","this","_language","Disposer","_classPrefix","_defaultStyles","_elements","_position","_tabindex","className","_disposers","push","invalidate","applyTheme","Object","tslib_es6","prototype","validate","draw","defaultStyles","loadDefaultCSS","wrapper","document","createElement","classPrefix","position","container","appendChild","dispose","_disposed","_element","parentNode","removeChild","defineProperty","_container","value","prevPosition","dispatchImmediately","type","element","prefix","newPrefix","insertKeyIfEmpty","disposer","DOM","padding","margin-bottom","box-sizing","width","font-size","float","margin","max-width","display","removeKey","increment","RangeSelectorCSS","style","language","get","Language","_axis","set","events","on","ev","prepAxis","Validatable","Registry","registeredClasses","DateAxisRangeSelector_DateAxisRangeSelector","DateAxisRangeSelector","periodButtons","_inputDateFormat","zoomDelay","axis","updateRangeInputs","tabindex","rangeWrapper","fromTitle","innerHTML","translateAny","undefined","fromInput","setAttribute","toString","addEventListener","updateZoom","toTitle","toInput","periods","length","periodWrapper","periodTitle","utils_Array","period","button","name","setPeriodInterval","interval","formatter","dateFormatter","minZoomed","Time","mainBaseInterval","timeUnit","count","format","inputDateFormat","Date","maxZoomed","_zoomTimeout","clearTimeout","setTimeout","start","end","startDate","parse","endDate","zoomToDates","date","group","getGroupInterval","groupMin","min","groupMax","max","Type","baseInterval","keepSelection","zoom","getTime","_periods","_dateFormatter","DateFormatter","dateFormat","window","am4plugins_rangeSelector","rangeSelector_namespaceObject"],"mappings":"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","file":"./plugins/rangeSelector.js","sourcesContent":["import { StyleRule } from \"../../core/utils/DOM\";\r\n//import { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Dictionary } from \"../../core/utils/Dictionary\";\r\nimport { MultiDisposer, IDisposer, CounterDisposer } from \"../../core/utils/Disposer\";\r\n\r\nconst rules = new Dictionary<string, CounterDisposer>();\r\n\r\n/**\r\n * A dynamically-loadable CSS module for Export menu.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix to addtach to class names\r\n * @return A MultiDisposer with style rules\r\n */\r\nexport default function (element: ShadowRoot | null, prefix?: string): IDisposer {\r\n\tconst newPrefix = (prefix ? prefix : \"amstock-dataset-selector\");\r\n\r\n\t//let colorSet = new InterfaceColorSet();\r\n\r\n\tconst counter = rules.insertKeyIfEmpty(newPrefix, () => {\r\n\t\tconst disposer = new MultiDisposer([\r\n\r\n\t\t\t// === Common ===========================================================\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-wrapper`, {\r\n\t\t\t\t\"padding\": \"0.2em 1em 0 0.4em\",\r\n\t\t\t\t\"margin-bottom\": \"1em\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-wrapper *`, {\r\n\t\t\t\t\"box-sizing\": \"border-box\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-wrapper input`, {\r\n\t\t\t\t\"width\": \"100%\",\r\n\t\t\t\t//\"padding\": \"0.1em 0.2em\",\r\n\t\t\t\t\"font-size\": \"inherit\"\r\n\t\t\t}),\r\n\r\n\t\t\t// === Horizontal positions =============================================\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-top .${newPrefix}-range-wrapper, .${newPrefix}-bottom .${newPrefix}-range-wrapper`, {\r\n\t\t\t\t\"float\": \"left\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-top .${newPrefix}-period-wrapper, .${newPrefix}-bottom .${newPrefix}-period-wrapper`, {\r\n\t\t\t\t\"float\": \"right\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-top input, .${newPrefix}-bottom input`, {\r\n\t\t\t\t\"margin\": \"0 1em 0 0.3em\",\r\n\t\t\t\t\"max-width\": \"100px\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-top button, .${newPrefix}-bottom button`, {\r\n\t\t\t\t\"margin\": \"0 0 0 0.4em\"\r\n\t\t\t}),\r\n\r\n\t\t\t// === Vertical positions ===============================================\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-left .${newPrefix}-title, .${newPrefix}-right .${newPrefix}-title`, {\r\n\t\t\t\t\"display\": \"block\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-left input, .${newPrefix}-right input`, {\r\n\t\t\t\t\"width\": \"100%\",\r\n\t\t\t\t\"margin\": \"0.2em 0 0.6em 0\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-left button, .${newPrefix}-right button`, {\r\n\t\t\t\t\"width\": \"25%\",\r\n\t\t\t\t\"margin\": \"0.2em 0.2em 0.2em 0\"\r\n\t\t\t}),\r\n\r\n\t\t]);\r\n\r\n\t\treturn new CounterDisposer(() => {\r\n\t\t\trules.removeKey(newPrefix);\r\n\t\t\tdisposer.dispose();\r\n\t\t});\r\n\t});\r\n\r\n\treturn counter.increment();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/rangeSelector/RangeSelectorCSS.ts","/**\r\n * Base class for axis range selector classes.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Axis } from \"../../charts/axes/Axis\";\r\nimport { AxisRenderer } from \"../../charts/axes/AxisRenderer\";\r\nimport { Validatable, IValidatableEvents } from \"../../core/utils/Validatable\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport { Language } from \"../../core/utils/Language\";\r\nimport selectorCSS from \"./RangeSelectorCSS\";\r\nimport * as $dom from \"../../core/utils/DOM\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines events for [[RangeSelector]].\r\n */\r\nexport interface IRangeSelectorEvents extends IValidatableEvents {\r\n\r\n\t/**\r\n\t * Invoked when position of the control changes.\r\n\t */\r\n\tpositionset: {\r\n\t\tprevPosition: \"top\" | \"bottom\" | \"left\" | \"right\";\r\n\t\tposition: \"top\" | \"bottom\" | \"left\" | \"right\";\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked when control is drawn.\r\n\t */\r\n\tdrawn: {}\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A base class for axis-specific range selectors.\r\n */\r\nexport class RangeSelector extends Validatable {\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IRangeSelectorEvents;\r\n\r\n\t/**\r\n\t * An instance of [[Language]].\r\n\t */\r\n\tprotected _language = new MutableValueDisposer<Language>();\r\n\r\n\t/**\r\n\t * Reference to DOM element that holds the control element.\r\n\t */\r\n\tprotected _container: $type.Optional<HTMLElement>;\r\n\r\n\t/**\r\n\t * Control element.\r\n\t */\r\n\tprotected _element: $type.Optional<HTMLElement>;\r\n\r\n\t/**\r\n\t * Prefix for class names applied to control elements.\r\n\t */\r\n\tprotected _classPrefix: string = \"amcharts-range-selector\";\r\n\r\n\t/**\r\n\t * If set to `true` [[RangeSelector]] will load it's own external CSS when\r\n\t * instantiated.\r\n\t */\r\n\tprotected _defaultStyles: boolean = true;\r\n\r\n\t/**\r\n\t * Holds references to various HTML elements control consists of.\r\n\t */\r\n\tprotected _elements: {\r\n\t\twrapper?: HTMLElement;\r\n\t} = {};\r\n\r\n\t/**\r\n\t * Position of the selector.\r\n\t */\r\n\tprotected _position: \"top\" | \"bottom\" | \"left\" | \"right\" = \"bottom\";\r\n\r\n\t/**\r\n\t * A tabindex to apply to control.\r\n\t */\r\n\tprotected _tabindex: number = 0;\r\n\r\n\t/**\r\n\t * Reference to target axis.\r\n\t * \r\n\t * @ignore\r\n\t */\r\n\tpublic _axis: Axis<AxisRenderer>;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"RangeSelector\";\r\n\t\tthis._disposers.push(this._language);\r\n\t\tthis.invalidate();\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * (Re)draws the control.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate(): void {\r\n\t\tthis.draw();\r\n\t\tsuper.validate();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the control.\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tpublic draw(): void {\r\n\r\n\t\tif (this.defaultStyles) {\r\n\t\t\tthis.loadDefaultCSS();\r\n\t\t}\r\n\r\n\t\t// Selector wrapper\r\n\t\tif (!this._elements.wrapper) {\r\n\t\t\tthis._elements.wrapper = document.createElement(\"div\");\r\n\t\t\tthis._elements.wrapper.className = this.classPrefix + \"-wrapper \" + this.classPrefix + \"-\" + this.position;\r\n\t\t\tthis.container.appendChild(this._elements.wrapper);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Destroys the control and all its elements.\r\n\t */\r\n\tpublic dispose(): void {\r\n\t\tif (!this._disposed) {\r\n\t\t\tsuper.dispose();\r\n\r\n\t\t\tif (this._element && this._element.parentNode) {\r\n\t\t\t\tthis._element.parentNode.removeChild(this._element);\r\n\t\t\t}\r\n\r\n\t\t\tif (this._elements.wrapper && this._elements.wrapper.parentNode) {\r\n\t\t\t\tthis._elements.wrapper.parentNode.removeChild(this._elements.wrapper);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Getters and setters\r\n\t */\r\n\r\n\t/**\r\n\t * An HTML container to place the control in.\r\n\t *\r\n\t * A container must be an HTML element, because the control itself is HTML, and\r\n\t * cannot be placed into SVG.\r\n\t *\r\n\t * @param container Reference to container element\r\n\t */\r\n\tpublic set container(container: $type.Optional<HTMLElement>) {\r\n\t\tthis._container = container;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Container\r\n\t */\r\n\tpublic get container(): $type.Optional<HTMLElement> {\r\n\t\treturn this._container;\r\n\t}\r\n\r\n\t/**\r\n\t * Position of the selector.\r\n\t *\r\n\t * Available options: `\"top\"`, `\"bottom\"`, `\"left\"` (default), and `\"right\"`.\r\n\t *\r\n\t * NOTE: since the control is always placed in the external container, this\r\n\t * setting does actually affect where the control is placed but rather\r\n\t * default CSS that affects how specific elements are arranged.\r\n\t *\r\n\t * For example, when setting position to `\"top\"` or `\"bottom\"`, the control\r\n\t * will be arranged in a horizontal fashion.\r\n\t *\r\n\t * Similarly, for `\"left\"` and `\"right\"` the control will arrange itself\r\n\t * vertically, which is more suitable for narrow containers.\r\n\t *\r\n\t * @default \"left\"\r\n\t * @param  value  Position\r\n\t */\r\n\tpublic set position(value: \"top\" | \"bottom\" | \"left\" | \"right\") {\r\n\t\tif (this._position != value) {\r\n\t\t\tconst prevPosition = this._position;\r\n\t\t\tthis._position = value;\r\n\t\t\tthis.dispatchImmediately(\"positionset\", {\r\n\t\t\t\ttype: \"positionset\",\r\n\t\t\t\tposition: value,\r\n\t\t\t\tprevPosition: prevPosition\r\n\t\t\t});\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Position\r\n\t */\r\n\tpublic get position(): \"top\" | \"bottom\" | \"left\" | \"right\" {\r\n\t\treturn this._position;\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether [[RangeSelector]] should load external CSS to style\r\n\t * itself.\r\n\t *\r\n\t * If set to `false`, the elements will not be styled, and will rely on some\r\n\t * external CSS.\r\n\t *\r\n\t * @default true\r\n\t * @param Should RangeSelector load its own CSS?\r\n\t */\r\n\tpublic set defaultStyles(value: boolean) {\r\n\t\tif (this._defaultStyles != value) {\r\n\t\t\tthis._defaultStyles = value;\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.loadDefaultCSS();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Should RangeSelector load its own CSS?\r\n\t */\r\n\tpublic get defaultStyles(): boolean {\r\n\t\treturn this._defaultStyles\r\n\t}\r\n\r\n\t/**\r\n\t * Loads the default CSS.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic loadDefaultCSS(): void {\r\n\t\tthis._disposers.push(selectorCSS($dom.getShadowRoot(this.container), this.classPrefix));\r\n\r\n\t\tif (this._element) {\r\n\t\t\tthis._element.style.display = \"\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * A tab index for the menu.\r\n\t *\r\n\t * Tab index will influence the order in which elements on the chart and\r\n\t * the whole page are selected when pressing TAB key.\r\n\t *\r\n\t * @param value Tab index\r\n\t */\r\n\tpublic set tabindex(value: number) {\r\n\t\tthis._tabindex = value;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Tab index\r\n\t */\r\n\tpublic get tabindex(): number {\r\n\t\treturn this._tabindex;\r\n\t}\r\n\r\n\t/**\r\n\t * A [[Language]] instance.\r\n\t *\r\n\t * @param value An instance of [[Language]]\r\n\t */\r\n\tpublic set language(value: Language) {\r\n\t\tthis._language.set(value, value.events.on(\"localechanged\", (ev) => {\r\n\t\t\tthis.invalidate();\r\n\t\t}));\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return A [[Language]] instance to be used\r\n\t */\r\n\tpublic get language(): Language {\r\n\t\tlet language = this._language.get();\r\n\r\n\t\tif (language == null) {\r\n\t\t\tlanguage = new Language();\r\n\r\n\t\t\t// Maybe use one from axis?\r\n\t\t\tif (this._axis) {\r\n\t\t\t\treturn this._axis.language;\r\n\t\t\t}\r\n\r\n\t\t\t// TODO code duplication with `set language()`\r\n\t\t\tthis._language.set(language, language.events.on(\"localechanged\", (ev) => {\r\n\t\t\t\tthis.invalidate();\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\treturn language;\r\n\t}\r\n\r\n\t/**\r\n\t * Class name prefix.\r\n\t *\r\n\t * @default \"amexport\"\r\n\t * @param value Class name prefix\r\n\t */\r\n\tpublic set classPrefix(value: string) {\r\n\t\tthis._classPrefix = value;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Class name prefix\r\n\t */\r\n\tpublic get classPrefix(): string {\r\n\t\treturn this._classPrefix;\r\n\t}\r\n\r\n\t/**\r\n\t * A target axis to use range selector for.\r\n\t * \r\n\t * @param  value  Axis\r\n\t */\r\n\tpublic set axis(value: this[\"_axis\"]) {\r\n\t\tif (this._axis != value) {\r\n\t\t\tthis._axis = value;\r\n\t\t\tthis.prepAxis();\r\n\t\t\tthis.language = value.language;\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected prepAxis(): void {\r\n\t\tif (this._axis) {\r\n\t\t\tthis._disposers.push(this._axis.events.on(\"beforedisposed\", (ev) => {\r\n\t\t\t\tthis.dispose();\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Axis\r\n\t */\r\n\tpublic get axis(): this[\"_axis\"] {\r\n\t\treturn this._axis;\r\n\t}\r\n\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RangeSelector\"] = RangeSelector;\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/rangeSelector/RangeSelector.ts","/**\r\n * Range selector for [[DateAxis]].\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { RangeSelector, IRangeSelectorEvents } from \"./RangeSelector\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { DateAxis } from \"../../charts/axes/DateAxis\";\r\nimport { AxisRenderer } from \"../../charts/axes/AxisRenderer\";\r\nimport { ITimeInterval } from \"../../core/defs/ITimeInterval\";\r\nimport { DateFormatter } from \"../../core/formatters/DateFormatter\";\r\nimport * as $time from \"../../core/utils/Time\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\nexport interface IDateAxisRangeSelectorPeriod {\r\n\tname: string;\r\n\tinterval: ITimeInterval | \"ytd\" | \"max\";\r\n}\r\n\r\n/**\r\n * Defines events for [[RangeSelector]].\r\n */\r\nexport interface IDateAxisRangeSelectorEvents extends IRangeSelectorEvents {\r\n\r\n\t/**\r\n\t * Invoked when pre-defined period is selected (button clicked).\r\n\t * \r\n\t * @since 4.10.3\r\n\t */\r\n\tperiodselected: {\r\n\t\tinterval: ITimeInterval;\r\n\t\tstartDate: Date;\r\n\t}\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a control used to select date range and preset periods for\r\n * a [[DateAxis]].\r\n *\r\n * ```TypeScript\r\n * let selector = new am4plugins_rangeSelector.DateAxisRangeSelector()\r\n * selector.container = document.getElementById(\"selectordiv\");\r\n * selector.axis = chart.xAxes.getIndex(0);\r\n * ```\r\n * ```JavaScript\r\n * var selector = new am4plugins_rangeSelector.DateAxisRangeSelector()\r\n * selector.container = document.getElementById(\"selectordiv\");\r\n * selector.axis = chart.xAxes.getIndex(0);\r\n * ```\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-range-selector/} for more information on how to use this plugin\r\n * @important\r\n * @todo JSON example\r\n */\r\nexport class DateAxisRangeSelector extends RangeSelector {\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IDateAxisRangeSelectorEvents;\r\n\r\n\t/**\r\n\t * Reference to target axis.\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tpublic _axis: DateAxis<AxisRenderer>;\r\n\r\n\t/**\r\n\t * Holds references to various HTML elements control consists of.\r\n\t */\r\n\tprotected _elements: {\r\n\t\twrapper?: HTMLElement;\r\n\t\trangeWrapper?: HTMLElement;\r\n\t\tfromTitle?: HTMLElement;\r\n\t\tfromInput?: HTMLInputElement;\r\n\t\ttoTitle?: HTMLElement;\r\n\t\ttoInput?: HTMLInputElement;\r\n\t\tperiodWrapper?: HTMLElement;\r\n\t\tperiodTitle?: HTMLElement;\r\n\t\tperiodButtons?: HTMLElement[];\r\n\t} = {\r\n\t\t\tperiodButtons: []\r\n\t\t};\r\n\r\n\t/**\r\n\t * List of pre-defined period buttons.\r\n\t */\r\n\tprotected _periods: IDateAxisRangeSelectorPeriod[];\r\n\r\n\t/**\r\n\t * Date format to use for input fields.\r\n\t */\r\n\tprotected _inputDateFormat = \"yyyy-MM-dd\";\r\n\r\n\t/**\r\n\t * Date formatter.\r\n\t */\r\n\tprotected _dateFormatter: DateFormatter;\r\n\r\n\t/**\r\n\t * Timeout to use to delay zooming of axis (so it does not happen on\r\n\t * every keystroke in input fields).\r\n\t */\r\n\tprivate _zoomTimeout: any;\r\n\r\n\t/**\r\n\t * Number of milliseconds to wait after last keystroke in date input field\r\n\t * before zooming the axis.\r\n\t *\r\n\t * @default 500\r\n\t */\r\n\tpublic zoomDelay: number = 500;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"DateAxisRangeSelector\";\r\n\t\tthis._disposers.push(this._language);\r\n\t\tthis.invalidate();\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * (Re)draws the control.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate(): void {\r\n\t\tthis.draw();\r\n\t\tsuper.validate();\r\n\t}\r\n\r\n\t/**\r\n\t * Adds events to the axis.\r\n\t */\r\n\tprotected prepAxis(): void {\r\n\t\tsuper.prepAxis();\r\n\t\tthis._disposers.push(this.axis.events.on(\"selectionextremeschanged\", (ev) => {\r\n\t\t\tthis.updateRangeInputs();\r\n\t\t}));\r\n\t\tthis._disposers.push(this.axis.events.on(\"extremeschanged\", (ev) => {\r\n\t\t\tthis.updateRangeInputs();\r\n\t\t}));\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the control.\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tpublic draw(): void {\r\n\r\n\t\tsuper.draw();\r\n\r\n\t\tconst tabindex = this.tabindex;\r\n\r\n\t\t// Range wrapper\r\n\t\tif (!this._elements.rangeWrapper) {\r\n\t\t\tthis._elements.rangeWrapper = document.createElement(\"div\");\r\n\t\t\tthis._elements.rangeWrapper.className = this.classPrefix + \"-range-wrapper\";\r\n\t\t\tthis._elements.wrapper.appendChild(this._elements.rangeWrapper);\r\n\t\t}\r\n\r\n\t\t// From title\r\n\t\tif (!this._elements.fromTitle) {\r\n\t\t\tthis._elements.fromTitle = document.createElement(\"span\");\r\n\t\t\tthis._elements.fromTitle.className = this.classPrefix + \"-title \" + this.classPrefix + \"-from-title\";\r\n\t\t\tthis._elements.fromTitle.innerHTML = this.language.translateAny(\"From %1\", undefined, \"\");\r\n\t\t\tthis._elements.rangeWrapper.appendChild(this._elements.fromTitle);\r\n\t\t}\r\n\r\n\t\t// From input\r\n\t\tif (!this._elements.fromInput) {\r\n\t\t\tthis._elements.fromInput = <HTMLInputElement>document.createElement(\"input\");\r\n\t\t\tthis._elements.fromInput.type = \"text\";\r\n\t\t\tthis._elements.fromInput.className = this.classPrefix + \"-from-input\";\r\n\r\n\t\t\tif (tabindex) {\r\n\t\t\t\tthis._elements.fromInput.setAttribute(\"tabindex\", tabindex.toString());\r\n\t\t\t}\r\n\r\n\t\t\tthis._elements.rangeWrapper.appendChild(this._elements.fromInput);\r\n\r\n\t\t\tthis._elements.fromInput.addEventListener(\"keyup\", () => {\r\n\t\t\t\tthis.updateZoom()\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// To title\r\n\t\tif (!this._elements.toTitle) {\r\n\t\t\tthis._elements.toTitle = document.createElement(\"span\");\r\n\t\t\tthis._elements.toTitle.className = this.classPrefix + \"-title \" + this.classPrefix + \"-to-title\";\r\n\t\t\tthis._elements.toTitle.innerHTML = this.language.translateAny(\"To %1\", undefined, \"\");\r\n\t\t\tthis._elements.rangeWrapper.appendChild(this._elements.toTitle);\r\n\t\t}\r\n\r\n\t\t// To input\r\n\t\tif (!this._elements.toInput) {\r\n\t\t\tthis._elements.toInput = <HTMLInputElement>document.createElement(\"input\");\r\n\t\t\tthis._elements.toInput.type = \"text\";\r\n\t\t\tthis._elements.toInput.className = this.classPrefix + \"-to-input\";\r\n\t\t\tif (tabindex) {\r\n\t\t\t\tthis._elements.toInput.setAttribute(\"tabindex\", tabindex.toString());\r\n\t\t\t}\r\n\t\t\tthis._elements.rangeWrapper.appendChild(this._elements.toInput);\r\n\r\n\t\t\tthis._elements.toInput.addEventListener(\"keyup\", () => {\r\n\t\t\t\tthis.updateZoom()\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Period buttons\r\n\t\tif (this.periods.length) {\r\n\r\n\t\t\t// period wrapper\r\n\t\t\tif (!this._elements.periodWrapper) {\r\n\t\t\t\tthis._elements.periodWrapper = document.createElement(\"div\");\r\n\t\t\t\tthis._elements.periodWrapper.className = this.classPrefix + \"-period-wrapper\";\r\n\t\t\t\tthis._elements.wrapper.appendChild(this._elements.periodWrapper);\r\n\r\n\r\n\t\t\t\t// Period title\r\n\t\t\t\tif (!this._elements.periodTitle) {\r\n\t\t\t\t\tthis._elements.periodTitle = document.createElement(\"span\");\r\n\t\t\t\t\tthis._elements.periodTitle.className = this.classPrefix + \"-title \" + this.classPrefix + \"-period-title\";\r\n\t\t\t\t\tthis._elements.periodTitle.innerHTML = this.language.translateAny(\"Zoom\");\r\n\t\t\t\t\tthis._elements.periodWrapper.appendChild(this._elements.periodTitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Period buttons\r\n\t\t\t\t$array.each(this.periods, (period) => {\r\n\t\t\t\t\tconst button = document.createElement(\"button\");\r\n\t\t\t\t\tbutton.className = this.classPrefix + \"-period-button\";\r\n\t\t\t\t\tbutton.innerHTML = period.name;\r\n\t\t\t\t\tif (tabindex) {\r\n\t\t\t\t\t\tbutton.setAttribute(\"tabindex\", tabindex.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._elements.periodButtons.push(button);\r\n\t\t\t\t\tthis._elements.periodWrapper.appendChild(button);\r\n\r\n\t\t\t\t\tbutton.addEventListener(\"click\", () => {\r\n\t\t\t\t\t\tthis.setPeriodInterval(period.interval);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.dispatchImmediately(\"drawn\", {\r\n\t\t\ttype: \"drawn\"\r\n\t\t});\r\n\r\n\r\n\t\tthis.updateRangeInputs();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates input values based on the current zoom selection of the axis.\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tpublic updateRangeInputs(): void {\r\n\t\tif (this._elements.fromInput && this._elements.toInput && this.axis) {\r\n\t\t\tconst axis = this.axis;\r\n\t\t\tconst formatter = this.dateFormatter;\r\n\t\t\tconst minZoomed = axis.minZoomed + $time.getDuration(axis.mainBaseInterval.timeUnit, axis.mainBaseInterval.count) * 0.5;\r\n\t\t\tthis._elements.fromInput.value = formatter.format(minZoomed, this.inputDateFormat);\r\n\t\t\tthis._elements.toInput.value = formatter.format(new Date(axis.maxZoomed), this.inputDateFormat);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Zooms axis according to input fields.\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tpublic updateZoom(): void {\r\n\t\tif (this._zoomTimeout) {\r\n\t\t\tclearTimeout(this._zoomTimeout);\r\n\t\t}\r\n\t\tthis._zoomTimeout = setTimeout(() => {\r\n\t\t\tlet start = this._elements.fromInput.value;\r\n\t\t\tlet end = this._elements.toInput.value;\r\n\t\t\tif ((start.length < this.inputDateFormat.length) || (end.length < this.inputDateFormat.length)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet startDate = this.dateFormatter.parse(start, this.inputDateFormat);\r\n\t\t\tlet endDate = this.dateFormatter.parse(end, this.inputDateFormat);\r\n\r\n\t\t\tif (startDate && endDate) {\r\n\t\t\t\tthis.axis.zoomToDates(startDate, endDate);\r\n\t\t\t}\r\n\t\t}, this.zoomDelay);\r\n\t}\r\n\r\n\t/**\r\n\t * Zooms the axis to a preset time interal or `\"ytd\"` or `\"max\"`.\r\n\t * \r\n\t * @param  interval  Interval\r\n\t */\r\n\tpublic setPeriodInterval(interval: ITimeInterval | \"ytd\" | \"max\"): void {\r\n\t\tlet date;\r\n\t\tconst group = this.getGroupInterval(this.axis.mainBaseInterval);\r\n\t\tif (interval == \"max\") {\r\n\t\t\tdate = new Date(this.axis.groupMin[group] || this.axis.min);\r\n\t\t}\r\n\t\telse if (interval == \"ytd\") {\r\n\t\t\tdate = new Date(this.axis.groupMax[group] || this.axis.max);\r\n\t\t\t$time.round(date, \"year\", 1);\r\n\t\t}\r\n\t\telse if ($type.isObject(interval)) {\r\n\t\t\tdate = new Date(this.axis.groupMax[group] || this.axis.max);\r\n\t\t\t$time.add(date, interval.timeUnit, -1 * interval.count);\r\n\t\t}\r\n\r\n\t\tif (date) {\r\n\t\t\tthis.zoomToDates(date);\r\n\t\t}\r\n\r\n\t\tthis.dispatchImmediately(\"periodselected\", {\r\n\t\t\tinterval: interval,\r\n\t\t\tstartDate: date\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getGroupInterval(interval: ITimeInterval): string {\r\n\t\treturn interval.timeUnit + interval.count;\r\n\t}\r\n\r\n\t/**\r\n\t * Zooms the axis using start date.\r\n\t * \r\n\t * @param  date  Start date\r\n\t */\r\n\tpublic zoomToDates(date: Date): void {\r\n\t\tconst axis = this.axis;\r\n\t\tconst group = this.getGroupInterval(axis.baseInterval);\r\n\t\tconst min = axis.groupMin[group] || axis.min;\r\n\t\tconst max = axis.groupMax[group] || axis.max;\r\n\t\taxis.keepSelection = true;\r\n\t\taxis.zoom({ start: (date.getTime() - min) / (max - min), end: 1 });\r\n\t}\r\n\r\n\t/**\r\n\t * Getters and setters\r\n\t */\r\n\r\n\t/**\r\n\t * A list of pre-defined periods to show buttons for.\r\n\t * \r\n\t * @param  value  Periods\r\n\t */\r\n\tpublic set periods(value: IDateAxisRangeSelectorPeriod[]) {\r\n\t\tthis._periods = value;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Periods\r\n\t */\r\n\tpublic get periods(): IDateAxisRangeSelectorPeriod[] {\r\n\t\tif (!this._periods) {\r\n\t\t\tthis._periods = [\r\n\t\t\t\t{ name: this.language.translateAny(\"%1M\", undefined, \"1\"), interval: { timeUnit: \"month\", count: 1 } },\r\n\t\t\t\t{ name: this.language.translateAny(\"%1M\", undefined, \"3\"), interval: { timeUnit: \"month\", count: 3 } },\r\n\t\t\t\t{ name: this.language.translateAny(\"%1M\", undefined, \"6\"), interval: { timeUnit: \"month\", count: 6 } },\r\n\t\t\t\t{ name: this.language.translateAny(\"%1Y\", undefined, \"1\"), interval: { timeUnit: \"year\", count: 1 } },\r\n\t\t\t\t{ name: this.language.translateAny(\"YTD\"), interval: \"ytd\" },\r\n\t\t\t\t{ name: this.language.translateAny(\"MAX\"), interval: \"max\" },\r\n\t\t\t]\r\n\t\t}\r\n\t\treturn this._periods;\r\n\t}\r\n\r\n\t/**\r\n\t * A [[DateFormatter]] instance to use.\r\n\t *\r\n\t * If not set, control will inherit one from the target axis.\r\n\t *\r\n\t * @param  value  Formatter\r\n\t */\r\n\tpublic set dateFormatter(value: DateFormatter) {\r\n\t\tthis._dateFormatter = value;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Formatter\r\n\t */\r\n\tpublic get dateFormatter(): DateFormatter {\r\n\t\tif (!this._dateFormatter) {\r\n\r\n\t\t\t// Maybe use one from axis?\r\n\t\t\tif (this._axis) {\r\n\t\t\t\tthis._dateFormatter = this._axis.dateFormatter;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._dateFormatter = new DateFormatter();\r\n\t\t\t\tthis._disposers.push(this._dateFormatter);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._dateFormatter;\r\n\t}\r\n\r\n\t/**\r\n\t * An format to use for the date input fields.\r\n\t *\r\n\t * If not set, it will use `dateFormat` from the [[DateFormatter]] object.\r\n\t *\r\n\t * @default \"yyyy-MM-dd\"\r\n\t * @param  value  Date format\r\n\t */\r\n\tpublic set inputDateFormat(value: string) {\r\n\t\tif (this._inputDateFormat != value) {\r\n\t\t\tthis._inputDateFormat = value;\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Date format\r\n\t */\r\n\tpublic get inputDateFormat(): string {\r\n\t\tif (this._inputDateFormat) {\r\n\t\t\treturn this._inputDateFormat;\r\n\t\t}\r\n\t\telse if (this.dateFormatter && $type.isString(this.dateFormatter.dateFormat)) {\r\n\t\t\treturn this.dateFormatter.dateFormat;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn \"yyyy-MM-dd\";\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DateAxisRangeSelector\"] = DateAxisRangeSelector;\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/rangeSelector/DateAxisRangeSelector.ts","import * as m from \"../../es2015/plugins/rangeSelector\";\nwindow.am4plugins_rangeSelector = m;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/rangeSelector.js\n// module id = null\n// module chunks = "],"sourceRoot":""}